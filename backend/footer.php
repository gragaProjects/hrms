</div>
<footer class="footer"> Â© 2013 - <?php echo date("Y"); ?> Powered By <a href="<?php echo ($organisationvalue->website) ? $organisationvalue->website : '#' ?>"
target="_blank"><?php echo ($organisationvalue->organisation) ? $organisationvalue->organisation : '' ?></a></a> </footer>
</div>
</div>


<!-- Bootstrap tether Core JavaScript -->
<script src="<?php echo base_url(); ?>assets/plugins/bootstrap/js/popper.min.js"></script>
<script src="<?php echo base_url(); ?>assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<!-- slimscrollbar scrollbar JavaScript -->
<script src="<?php echo base_url(); ?>assets/js/jquery.slimscroll.js"></script>
<!--Wave Effects -->
<script src="<?php echo base_url(); ?>assets/js/waves.js"></script>

<!--Menu sidebar -->
<script src="<?php echo base_url(); ?>assets/js/sidebarmenu.js"></script>
<!--stickey kit -->
<script src="<?php echo base_url(); ?>assets/plugins/sticky-kit-master/dist/sticky-kit.min.js"></script>
<!--Custom JavaScript -->
<script src="<?php echo base_url(); ?>assets/js/custom.min.js"></script>
<!-- ============================================================== -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js">
</script>
<!-- ============================================================== -->
<!--sparkline JavaScript -->
<script src="<?php echo base_url(); ?>assets/plugins/sparkline/jquery.sparkline.min.js"></script>
<!--morris JavaScript -->
<script src="<?php echo base_url(); ?>assets/plugins/raphael/raphael-min.js"></script>
<script src="<?php echo base_url(); ?>assets/plugins/morrisjs/morris.js"></script>
<script src="<?php echo base_url(); ?>assets/wnoty/wnoty.js"></script>
<script src="<?php echo base_url(); ?>assets/wnoty/jquery-confirm.min.js"></script>
<!-- CHART COMMENTED....UNCOMMENT WHEN DONE -->
<!-- <script src="<?php echo base_url(); ?>assets/js/dashboard1.js"></script> -->
<script src="<?php echo base_url(); ?>assets/plugins/moment/moment.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js">
</script>
<script src="<?php echo base_url(); ?>assets/plugins/styleswitcher/jQuery.style.switcher.js"></script>
<!-- switchery -->
<script src="<?php echo base_url(); ?>assets/plugins/switchery/dist/switchery.min.js"></script>
<!-- Editable -->
<script src="<?php echo base_url(); ?>assets/plugins/jsgrid/db.js"></script>
<script type="text/javascript" src="<?php echo base_url(); ?>assets/plugins/jsgrid/dist/jsgrid.min.js">
</script>
<!-- This is data table -->
<script type="text/javascript"
src="<?php echo base_url(); ?>assets/plugins/multiselect/js/jquery.multi-select.js"></script>
<script src="<?php echo base_url(); ?>assets/plugins/datatables/jquery.dataTables.min.js"></script>
<!-- start - This is for export functionality only -->
<script
src="<?php echo base_url(); ?>assets/export/cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js">
</script>
<script
src="<?php echo base_url(); ?>assets/export/cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js">
</script>
<script
src="<?php echo base_url(); ?>assets/export/cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js">
</script>
<script
src="<?php echo base_url(); ?>assets/export/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js">
</script>
<script
src="<?php echo base_url(); ?>assets/export/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js">
</script>
<script
src="<?php echo base_url(); ?>assets/export/cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js">
</script>
<script
src="<?php echo base_url(); ?>assets/export/cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>

<!-- Clock Plugin JavaScript -->
<script src="<?php echo base_url(); ?>assets/plugins/clockpicker/dist/jquery-clockpicker.min.js"></script>
<!-- Date range Plugin JavaScript -->
<script src="<?php echo base_url(); ?>assets/plugins/timepicker/bootstrap-timepicker.min.js"></script>
<script src="<?php echo base_url(); ?>assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- end - This is for export functionality only -->
<script src="<?php echo base_url(); ?>assets/plugins/select2/dist/js/select2.full.min.js"
type="text/javascript"></script>
<script src="<?php echo base_url(); ?>assets/plugins/bootstrap-select/bootstrap-select.min.js"
type="text/javascript"></script>
<script
src="<?php echo base_url(); ?>assets/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js"
type="text/javascript"></script>
<script type="text/javascript"
src="<?php echo base_url(); ?>assets/plugins/multiselect/js/jquery.multi-select.js"></script>
<script src="<?php echo base_url(); ?>assets/plugins/styleswitcher/jQuery.style.switcher.js"></script>
<!-- CALENDAR -->
<!-- <script type="text/javascript" src="<?php echo base_url(); ?>assets/plugins/calendar/jquery-ui.min.js"></script> -->
<script type="text/javascript"
src="<?php echo base_url(); ?>assets/plugins/calendar/dist/fullcalendar.min.js"></script>
<!-- <script type="text/javascript" src="<?php echo base_url(); ?>assets/plugins/calendar/dist/cal-init.js">
</script> -->
<!-- <script type="text/javascript" src="<?php echo base_url(); ?>assets/js/jquery-validate.bootstrap-tooltip.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js" ></script>
<script type="text/javascript" src="<?php echo base_url(); ?>assets/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="<?php echo base_url(); ?>assets/js/bootstrap-datetimepicker.min.js"></script>

<script type="text/javascript" src="<?php echo base_url(); ?>assets/toast/js/toast.min.js"></script>

 <!-- Dropzone Plugin JavaScript -->
    <script src="<?php echo base_url(); ?>assets/plugins/dropzone-master/dist/dropzone.js"></script>
<!-- new switcher -->
  <!-- bt-switch -->
    <script src=<?php echo base_url(); ?>/assets/plugins/bootstrap-switch/bootstrap-switch.min.js"></script>

    
    <script type="text/javascript" src="<?php echo base_url(); ?>/assets/plugins/x-editable/dist/bootstrap3-editable/js/bootstrap-editable.js"></script>


<?php $this->load->view('backend/toast_notification'); ?>
<script type="text/javascript">
$(function() {
$('.mydatetimepicker').datepicker({
format: "mm-yyyy",
viewMode: "years",
minViewMode: "months",
endDate: "today"
});
});
$(function() {
$('.monthdatetimepicker').datepicker({
format: "mm-yyyy",
viewMode: "years",
minViewMode: "months"
});
});

/* clearBtn: true*/
$(function() {
$('.mydatetimepickerFull').datepicker({
format: "yyyy-mm-dd",
endDate: "today"
});
});
$(function() {
$('.mydatetimepickerdate').datepicker({
format: "yyyy-mm-dd",
});
});
</script>
<script>
/*      $(document).ready(function () {
$('.dataTables_filter input[type="search"]').css(
{'width':'350px','display':'inline-block'}
);
});*/
$(document).ready(function() {
$('#myTable').DataTable();
$(document).ready(function() {
var table = $('#example').DataTable({
"columnDefs": [{
"visible": false,
"targets": 2
}],
"order": [
[2, 'asc']
],
"displayLength": 25,
"drawCallback": function(settings) {
var api = this.api();
var rows = api.rows({
page: 'current'
}).nodes();
var last = null;
api.column(2, {
page: 'current'
}).data().each(function(group, i) {
if (last !== group) {
$(rows).eq(i).before('<tr class="group"><td colspan="5">' + group + '</td></tr>');
last = group;
}
});
}
});
// Order by the grouping
$('#example tbody').on('click', 'tr.group', function() {
var currentOrder = table.order()[0];
if (currentOrder[0] === 2 && currentOrder[1] === 'asc') {
table.order([2, 'desc']).draw();
} else {
table.order([2, 'asc']).draw();
}
});
});
});
$(function() {
$("#datepicker").datepicker({
autoclose: true,
todayHighlight: true
}).datepicker('update', new Date());
});
jQuery('.mydatepicker, #datepicker').datepicker();
jQuery('#datepicker-autoclose').datepicker({
autoclose: true,
todayHighlight: true,
});
//without searchbox
$('#examplesearch').DataTable({
// "pageLength": 4,
"searching": false,
"lengthChange": false
});
//default datatable
$('#example23').DataTable({
});
/*    dom: 'Bfrtip',
buttons: [
'copy', 'csv', 'excel', 'pdf', 'print'
],*/
$('#single-input').clockpicker({
placement: 'bottom',
align: 'left',
autoclose: true,
'default': 'now'
});
$('.single-input').clockpicker({
placement: 'bottom',
align: 'left',
autoclose: true,
'default': 'now'
});
$('.clockpicker').clockpicker({
donetext: 'Done',
}).find('input').change(function() {
//  console.log(this.value);
});
$('#check-minutes').click(function(e) {
// Have to stop propagation here
e.stopPropagation();
input.clockpicker('show').clockpicker('toggleView', 'minutes');
});
$(function() {
$('#datetimepicker2').datetimepicker({
language: 'en',
pick12HourFormat: true
});
});
$(".select2").select2();
</script>
<script type="text/javascript">
$(".search").select2({
theme: "bootstrap"
});
$(".search,.select2").css({
"width": "100%",
"min-height": "38px;"
});
</script>
<script>
$(document).ready(function() {
//$("a[href='#']").removeAttr("href","#");
//$(this).attr("href",'');
});
</script>
<script>
$('.custom-select').on('change', function() {
//$('input:required').remove();
$(this).removeClass('error');
$(this).addClass('valid');
$(this).next('.error').css({
display: 'none'
});
})
/*$('.close , .btn-default').on('click',function(){
$('form')[0].reset();
//$('#catid').val('');
location.reload(true);
});*/
$(document).ready(function(){
$('.menu-toggle').click(function(){
$('nav').toggleClass('active');
//$('aside').css('display: block');
})
})
//email validate
function IsEmail(email) {
var regex = /^([_\-\.0-9a-zA-Z]+)@([_\-\.0-9a-zA-Z]+)\.([a-zA-Z]){2,7}$/;
//console.log(regex.test(email));
if(!regex.test(email)) {
return false;
}else{
return true;
}
}
//website url
function is_valid_url(url)
{
var regex1 = /^(http|https)?:\/\/[a-zA-Z0-9-\.]+\.[a-z]{2,4}/;
if(!regex1.test(url)) {
return false;
}else{
return true;
}
}
//validation
$('.custom-select').on('change',function(){
//$('input:required').remove();
$(this).removeClass('error');
$(this).addClass('valid');
$(this).next().next('.error').css({display:'none'});
//console.log($(this).next('.error'));
});


/*Notification*/
$(document).ready(function() {
// Get the number of unread notifications and display it in the badge.
$.get('<?php echo base_url();?>/notification/get_notifications_count', function(data) {
$('.count').text(data);
});
// Show the notifications in a modal dialog when the user clicks on the notifications button.
$('.notifications-button').click(function() {
$.get('<?php echo base_url();?>/notification/get_notifications', function(data) {
$('.message-center').html(data);
//$('#notifications-modal').modal('show');
});
});
// Mark a notification as read when the user clicks on it.
$('#notifications-modal').on('click', '.unreadtext', function() {
   // alert();
var notification_id = $(this).data('notification-id');
$.post('<?php echo base_url();?>/notification/mark_notification_as_read', { notification_id: notification_id });
$(this).removeClass('unread').addClass('read');
// var count = $('.notification-badge').text();
// $('.notification-badge').text(count - 1);
 var count = $('.count').text();
    $('.count').text(count - 1);
});
});
/*Notification*/

//new
function initializeSelect2() {
  $(".search").select2({
    theme: "bootstrap"
  });
  $(".search, .select2").css({
    "width": "100%",
    "min-height": "38px"
  });
}

//   // Switchery
// $(document).ready(function () {
//         var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));
//         $('.js-switch').each(function() {
//             new Switchery($(this)[0], $(this).data());
//         });
//         });
var defaults = {
  color: '#64bd63',
  secondaryColor: '#dfdfdf',
  jackColor: '#fff',
  jackSecondaryColor: null,
  className: 'switchery',
  disabled: false,
  disabledOpacity: 0.5,
  speed: '0.4s',
  size: 'default'
};
$(document).ready(function () {
    var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));
    
    elems.forEach(function(elem) {
        new Switchery(elem, {
            color: elem.getAttribute('data-color') || defaults.color,
            secondaryColor: elem.getAttribute('data-secondary-color') || defaults.secondaryColor,
            jackColor: elem.getAttribute('data-jackColor') || defaults.jackColor,
            jackSecondaryColor: elem.getAttribute('data-jackSecondaryColor') || defaults.jackSecondaryColor,
            size: elem.getAttribute('data-size') || defaults.size,
            // Add other options here as needed
        });
        // Add a change event listener to toggle the custom CSS class
        elem.addEventListener('change', function () {
            var switcheryContainer = switchery.element.nextElementSibling;
            
            if (elem.checked) {
                switcheryContainer.classList.add('checked');
                switcheryContainer.classList.remove('unchecked');
            } else {
                switcheryContainer.classList.add('unchecked');
                switcheryContainer.classList.remove('checked');
            }
        });
    });
});

</script>

</body>
</html>
<!-- Leave Nav bar count -->
<?php 

if($this->role->User_Permission('dashboard','can_view') && $this->role->User_Permission('dashboard','can_add')&& $this->role->User_Permission('dashboard','can_edit')&& $this->role->User_Permission('dashboard','can_delete')){?>
    <script type="text/javascript">
     <?php if($this->dashboard_model->Pending_leave() > 0) { ?>
       $('.Application').text(<?php echo $this->dashboard_model->Pending_leave(); ?>);
    <?php } ?>
    </script>   
    <?php if( $this->uri->segment(2) == 'Application')  {?>
       <script type="text/javascript">
       $('.Application').text('');
    </script>
<?php }  }?>

<?php 


$eid = $this->session->userdata('user_login_id');
if($this->dashboard_model->GetPendingleave_hr($eid) > 0){
$get_hr_approve = $this->dashboard_model->Emplist_hr($eid);
if ($get_hr_approve) { ?>
   <script type="text/javascript">
       <?php if($this->dashboard_model->GetPendingleave_hr($eid) > 0) { ?>
       $('.Application').text(<?php echo $this->dashboard_model->GetPendingleave_hr($eid); ?>);
        <?php } ?>
    </script>   
    <?php if( $this->uri->segment(2) == 'Application')  {?>
       <script type="text/javascript">
       $('.Application').text('');
    </script>
<?php }
}
}


?>

<script type="text/javascript">
     $(".bt-switch input[type='checkbox'], .bt-switch input[type='radio']").bootstrapSwitch();
    var radioswitch = function() {
        var bt = function() {
            $(".radio-switch").on("switch-change", function() {
                $(".radio-switch").bootstrapSwitch("toggleRadioState")
            }), $(".radio-switch").on("switch-change", function() {
                $(".radio-switch").bootstrapSwitch("toggleRadioStateAllowUncheck")
            }), $(".radio-switch").on("switch-change", function() {
                $(".radio-switch").bootstrapSwitch("toggleRadioStateAllowUncheck", !1)
            })
        };
        return {
            init: function() {
                bt()
            }
        }
    }();
    $(document).ready(function() {
        radioswitch.init()
    });


     
</script>